<!DOCTYPE HTML>
<html>

<head>
    <title>MongoDB ObjectId to Timestamp Converter</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online utility to convert MongoDB ObjectIds to timestamps and vice versa." />
    <link href="https://fonts.googleapis.com/css2?family=Solway:wght@700&display=swap" rel="stylesheet">
    <link rel="apple-touch-icon" sizes="57x57" href="apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="`favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
<meta name="Keywords"
        content="mongodb timestamp query, mongodb timestamp to date, mongodb timestamp gte, mongodb timestamp converter, mongodb timestamp example, mongodb timestamp timezone, mongodb timestamp type, mongodb timestamp vs date, mongodb timestamp format, mongodb timestamp as key, mongodb timestamp auto, mongodb timestamp aggregate, mongodb add timestamp, mongodb aggregate timestamp to date, mongodb add timestamp field, mongodb aggregate timestamp, mongodb automatic timestamp, mongodb timestamp between, mongodb timestamp bytes, mongodb bson timestamp, mongodb bson timestamp php, mongodb query timestamp between, mongodb sort by timestamp, mongodb order by timestamp, mongodb filter by timestamp, mongodb timestamp comparison, mongodb timestamp c#, mongodb timestamp compare, mongodb timestamp column, mongodb timestamp create, mongodb timestamp command, mongodb timestamp condition, mongodb timestamp data type, mongodb timestamp default value, mongodb timestamp difference, mongodb timestamp date format, mongodb timestamp date, mongodb timestamp default, mongodb document timestamp, mongodb deletemany timestamp, mongodb timestamp epoch, mongodb timestamp example java, mongodb timestamp extract, mongodb extract timestamp from objectid, mongodb export timestamp, mongodb timestamp query example, timestamp en mongodb, mongodb timestamp from id, mongodb timestamp filter, mongodb timestamp function, mongodb timestamp from date, mongodb timestamp find, mongo timestamp from id, mongo timestamp from objectid, mongodb timestamp greater than, mongodb timestamp gt, mongodb greater than timestamp, mongodb get timestamp, mongodb get timestamp from objectid, mongodb get timestamp from id, mongodb get timestamp from date, timestamp hour mongodb, mongodb timestamp index, mongodb timestamp insert, mongodb timestamp id, mongodb timestamp isodate, mongodb timestamp in java, mongodb timestamp int, mongodb timestamp in php, mongodb timestamp in, mongodb timestamp java, mongodb timestamp javascript, mongodb timestamp json, mongodb java timestamp, javascript mongodb timestamp, mongodb java timestamp example, mongodb timestamp to java date, mongodb node js timestamp, mongodb shard key timestamp, mongodb timestamp less than, mongodb timestamp lte, mongodb log timestamp, mongodb query timestamp less than, mongodb timestamp to long, mongodb find latest timestamp, mongodb get latest timestamp, laravel mongodb timestamp, mongodb timestamp milliseconds, mongodb timestamp microseconds, mongodb timestamp match, mongodb timestamp month, mongodb max timestamp, mongodb modified timestamp, mongodb min timestamp, mongodb mapreduce timestamp, mongodb timestamp now, mongodb timestamp nodejs, mongodb timestamp numberlong, mongodb new timestamp, mongodb native timestamp, mongodb insert timestamp now, mongodb sort by timestamp node js, mongodb add new timestamp, mongodb timestamp object, mongodb timestamp objectid, mongodb timestamp on insert, mongodb timestamp on update, mongodb timestamp order, mongodb timestamp orderby, mongo timestamp objectid, mongodb oplog timestamp, mongodb timestamp python, mongodb timestamp precision, mongodb timestamp php, python mongodb timestamp, mongodb project timestamp to date, mongodb print timestamp, mongodb parse timestamp, mongodb print timestamp as date, mongodb query timestamp, mongodb query timestamp greater than, mongodb query timestamp range, mongodb query timestamp to date, mongodb query timestamp today, mongodb timestamp range, mongodb timestamp ruby, mongodb record timestamp, mongodb return timestamp, mongodb remove timestamp, mongodb regex timestamp, mongodb find timestamp range, mongodb get record timestamp, mongodb timestamp sort, mongodb timestamp string, mongodb timestamp spring, mongodb timestamp store, mongodb timestamp show date, mongodb schema timestamp, mongodb save timestamp, mongodb set timestamp, mongodb timestamp true, mongodb timestamp to date javascript, mongodb timestamp to date online, mongodb timestamp to isodate, mongodb timestamp to string, mongodb timestamp utc, mongodb timestamp update, mongodb timestamp user, mongodb unix timestamp, mongodb unix timestamp to date, mongodb unix timestamp to isodate, mongodb update timestamp field, mongodb unique timestamp, mongodb timestamp value, mongodb date vs timestamp, mongodb datetime vs timestamp, mongodb timestamp with timezone, mongodb timestamp where, mongodb insert with timestamp, mongodb query with timestamp, mongodb date without timestamp, mongodb insert document with timestamp, mongodb aggregrate timestamp by 10 minute intervals, mongodb timestamp field, mongodb objectid to string, mongodb objectid nodejs, mongodb objectid to timestamp, mongodb objectid generator, mongodb objectid size, mongodb objectid to string javascript, mongodb objectid vs uuid, mongodb objectid generator online, mongodb objectid as string, mongodb objectid as uuid, mongodb objectid as key, mongodb objectid array, mongodb objectid algorithm, mongodb objectid angular, mongodb objectid autoincrement, mongodb aggregate objectid to string, mongodb objectid bson, mongodb objectid browser, mongodb objectid byte, mongodb bson objectid to string, mongodb bson objectid php, mongodb bson objectid get oid, mongodb bson objectid object, mongodb bson objectid to string c#, mongodb objectid converter, mongodb objectid comparison, mongodb objectid c#, mongodb objectid counter, mongodb objectid convert to string, mongodb objectid custom, mongodb objectid characters, mongodb objectid collision, mongodb objectid c, mongodb objectid decode, mongodb objectid data type, mongodb objectid datetime, mongodb objectid duplicate, mongodb objectid date, mongodb objectid default value, mongodb objectid dbref, mongodb delete objectid, mongodb objectid example, mongodb objectid explained, mongodb objectid equals, mongodb objectid empty, mongodb $eq objectid, mongodb export objectid, mongodb elemmatch objectid, mongodb extract objectid, mongodb objectid format, mongodb objectid from string, mongodb objectid from timestamp, mongodb objectid find, mongodb objectid foreign key, mongodb objectid function, mongodb objectid from date, mongodb objectid field, mongodb objectid greater than, mongodb objectid golang, mongodb objectid generator c#, mongodb objectid get timestamp, mongodb objectid generator java, mongodb objectid get string, mongodb objectid hexadecimal, mongodb objectid hex, mongodb id hash, mongodb id _id, mongodb objectid to hex string, mongodb id hashmap, mongodb objectid in java, mongodb objectid is not defined, mongodb objectid is not json serializable, mongodb objectid in array, mongodb objectid isvalid, mongodb objectid increment, mongodb objectid in javascript, mongodb objectid index, is mongodb objectid unique, mongodb objectid java, mongodb objectid javascript, mongodb objectid json, mongodb objectid js, mongodb objectid join, mongodb objectid jackson, mongodb javascript objectid to string, mongodb java objectid to string, mongodb id key, mongodb objectid primary key, mongodb keep _id, mongodb objectid length, mongodb objectid like, mongodb objectid less than, mongodb objectid long, mongodb objectid list, mongodb lookup objectid string, mongodb lookup objectid, mongodb id length, mongodb objectid max length, mongodb objectid machine identifier, mongodb objectid match, mongodb id multiple fields, mongodb id max length, mongodb _id max, mongodb match id, mongodb match id in array, mongodb objectid not defined, mongodb objectid npm, mongodb objectid null, mongodb objectid new, mongodb objectid .net, objectid mongodb node js, mongodb node objectid is not defined, mongodb objectid online generator, mongodb objectid online, mongodb objectid order, mongodb objectid or string, mongodb id object, mongodb _id $oid, mongodb id order, mongodb id overflow, mongodb objectid python, mongodb objectid parse, mongodb objectid pattern, mongodb objectid parser, mongodb objectid php, mongodb objectid performance, mongodb objectid properties, mongodb objectid query, mongodb query objectid timestamp, mongodb query objectid to string, mongodb query objectid in array, mongodb query objectid greater than, mongodb query objectid date, mongodb query objectid java, mongodb _id query, mongodb objectid regex, mongodb objectid reference, mongodb objectid random, mongodb objectid require, mongodb objectid rule, mongodb return objectid as string, mongodb remove objectid, mongodb remove objectid from array, mongodb objectid sort, mongodb objectid string, mongodb objectid structure, mongodb objectid spring boot, mongodb objectid search, mongodb objectid sample, mongodb objectid serialization, mongodb objectid to string python, mongodb objectid to string java, mongodb objectid to string node js, mongodb objectid type, mongodb objectid to int, mongodb objectid uuid, mongodb objectid uniqueness, mongodb objectid unique across collections, mongodb objectid update, mongodb objectid undefined, mongodb objectid uses, mongodb updateone objectid, mongodb update objectid to string, mongodb objectid vs string, mongodb objectid validation, mongodb objectid vs objectid, mongodb objectid valueof, mongodb objectid vs int, mongodb objectid value, mongodb id validation, mongodb objectid what is, mongodb without objectid, mongodb id with, mongodb id without objectid, mongodb compare objectid with string, mongodb replace objectid with string, mongodb without _id, mongodb where id in array, mongodb.objectid, yii2 mongodb objectid, mongodb objectid unique, mongodb _id 0, mongodb _id 1, mongodb objectid 2038, mongodb 3.6 objectid to string, mongodb 3.6 objectid, mongodb 4.2 objectid, loopback 4 mongodb objectid, mongodb objectid to date">
    <style>
        .window {
            font-family: 'Solway', serif;
          width: auto;
            height: 96%;
            max-width: 100%;	
            margin: 0 auto;
            margin: 1%;
            border-radius: 5px;
            padding: 12px 0;
            color: #fffff0;
            cursor: default;
            box-shadow: 0 0 20px -2px rgba(50, 50, 50, .5);
        }


        .row {
            clear: both;

        }

        .block {
            display: block;
            font-family: 'Solway', serif;
            vertical-align: top;
width: auto;

            padding: 15px;
            margin: 20px;

            background-color: #000000;
        }

        .block h2 {
            margin-top: 0;
        }

        #objectId {
            width: 250px;
        }

        #objectIdForPasting {
            width: 250px;
        }

        .invalid {
            border-color: red;
        }

        pre {
            margin-left: 40px;
        }

        input {
                    font-family: 'Solway', serif;
            width: 150px;
            padding: 3px;
            font-size: 12px;
        }

        .socialLinks {
            float: right;
            margin: 0;
        }

        .socialLinks li {
            display: inline-block;
            vertical-align: top;
            margin-left: 10px;
        }

        .footer {
            margin: 50px 0;
        }

        .typography {
            font-family: 'Solway', serif;
            color: #3a3a3a;
        }
        
           
        .typographyFooter {
            font-family: 'Solway', serif;
            color: #3a3a3a;
            font-size: 10px;
        }
        
        .poopFooter {
            font-family: 'Solway', serif;
            color: #3a3a3a;
            font-size: 12px;
        }
    </style>

  
</head>

<body>

    <div align="center">
    <img src="apple-icon-60x60.png" width="50px"/>
        <h2 class="typography">MongoDB ObjectId To Timestamp Converter</h2>
    </div>
    <div align="center" class="window" >


        <div class=row>
    
            <div class=block align=center>
                <h2>ObjectId</h2>

                <input id="objectId" type="text" maxlength="30" ></input><br />

                <br /><br />
                <input type="text" readonly="readonly" id="objectIdForPasting" onclick="focusObjectIdForPasting()"></input>
	<div>                <small>(easy to paste into mongo shell)</small> </div>
            </div>
            <div class=block align=center>
                 <h2>Time <small>(UTC<span id="timezoneOffset"></span>)</small></h2>
                <table>
                <tr>
                    <tr>
                        <td>Year (XXXX)</td>
                        <td><input id="year" type="number" class="tyme"></input></td>
                    </tr>
                    <tr>
                        <td>Month (1 - 12)</td>
                        <td><input id="month" type="number" class="tyme"></input></td>
                    </tr>
                    <tr>
                        <td>Date (1 - 31)</td>
                        <td><input id="date" type="number" class="tyme"></input></td>
                    </tr>
                    <tr>
                        <td>Hours</td>
                        <td><input id="hours" type="number" value="0" class="tyme"></input></td>
                    </tr>
                    <tr>
                        <td>Minutes</td>
                        <td><input id="minutes" type="number" value="0" class="tyme"></input></td>
                    </tr>
                    <tr>
                        <td>Seconds</td>
                        <td><input id="seconds" type="number" value="0" class="tyme"></input></td>
                    </tr>
                    <tr>
                        <td>ISO Timestamp</td>
                        <td><input id="timestamp" readonly="readonly" type=text onclick="timeStampClick()"></input></td>
                    </tr>
                </table>
                     <div align="center">
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <!-- poopcodesidebar -->
                <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3194348739260514"
                    data-ad-slot="2142264606" data-ad-format="auto" data-full-width-responsive="true"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
            </div>
        </div>
    </div>
      <script>

        var minDate = new Date(0),
            maxDate = new Date(parseInt("ffffffff", 16) * 1000);

        var objectIdFromDate = function (date) {
            if (date < minDate || date > maxDate) {
                return "Error: date must be between " + minDate.getFullYear() +
                    " and " + maxDate.getFullYear();
            }
            var pad = "00000000";
            var hexSeconds = Math.floor(date.getTime() / 1000).toString(16)
            return pad.substring(0, pad.length - hexSeconds.length) + hexSeconds + "0000000000000000";
        };

        var dateFromObjectId = function (objectId) {
            return new Date(parseInt(objectId.substring(0, 8), 16) * 1000);
        };

        var yearInput = document.getElementById('year'),
            monthInput = document.getElementById('month'),
            dayInput = document.getElementById('date'),
            hoursInput = document.getElementById('hours'),
            minutesInput = document.getElementById('minutes'),
            secondsInput = document.getElementById('seconds'),
            objectIdInput = document.getElementById('objectId'),
            objectIdForPasting = document.getElementById('objectIdForPasting'),
            timestamp = document.getElementById('timestamp');
            timezoneOffset = document.getElementById('timezoneOffset');

        //alert(document.getElementById('timezoneOffset'));

         var timezoneOffsetValue = - new Date().getTimezoneOffset() / 60;
         if (timezoneOffsetValue < 0) {
            timezoneOffset.innerHTML = timezoneOffsetValue;
         } else if (timezoneOffsetValue > 0) {
            timezoneOffset.innerHTML = '+' + timezoneOffsetValue;
         }

        function focusObjectIdForPasting () {
            objectIdForPasting.focus();
            objectIdForPasting.select();
        }
        
        function timeStampClick() {
            timestamp.focus();
            timestamp.select();
        }

        var updatedTime = function () {
            var year = parseInt(yearInput.value, 10) || 0,
                month = parseInt(monthInput.value, 10) || 0,
                day = parseInt(dayInput.value, 10) || 0,
                hours = parseInt(hoursInput.value, 10) || 0,
                minutes = parseInt(minutesInput.value, 10) || 0,
                seconds = parseInt(secondsInput.value, 10) || 0;

            var date = new Date(year, month - 1, day, hours, minutes, seconds);

            console.log("date = ", date);

            var objectId = objectIdFromDate(date);

            objectIdInput.value = objectId;
            objectIdForPasting.value = 'ObjectId("' + objectId + '")';

            timestamp.value = date.toISOString();
        };

        var updatedObjectId = function () {
            var objectId = objectIdInput.value;

            if (!/^[0-9a-fA-F]{24}$/.test(objectId)) {
                objectIdInput.classList.add('invalid');
                return;
            }
            objectIdInput.classList.remove('invalid');

            objectIdForPasting.value = 'ObjectId("' + objectId + '")';

            var date = dateFromObjectId(objectIdInput.value);

            yearInput.value = date.getFullYear();
            monthInput.value = date.getMonth() + 1;
            dayInput.value = date.getDate();
            hoursInput.value = date.getHours();
            minutesInput.value = date.getMinutes();
            secondsInput.value = date.getSeconds();

            timestamp.value = date.toISOString();
        };

//        objectIdInput.keyup(updatedObjectId).change(updatedObjectId);

objectIdInput.addEventListener('keyup', function(){
//    evt.target.blur();
  updatedObjectId();
}, false);

        var currentDate = new Date();
        yearInput.value = currentDate.getFullYear();
        monthInput.value = currentDate.getMonth() + 1;
        dayInput.value = currentDate.getDate();

let tyme = document.getElementsByClassName('tyme');
//    evt.target.blur();
//    evt.target.change(updatedTime);
//}, false);


for(let i = 0; i < tyme.length; i++) {
  tyme[i].addEventListener("keyup", function() {
     updatedTime();
  })
}


        //document.getElementById('year, month, date, hours, minutes, seconds').keyup(updatedTime).change(updatedTime);

        updatedTime();

    </script>

</body>

<footer align="center" >
    <p class="poopFooter">Made with <a href="https://poopcode.com">💩</a>.</p> 
    <p class="typographyFooter">Inspired/Forked from <a href="https://steveridout.github.io/mongo-object-time/">Steve Ridout</a></p>
  </footer>

</html>
